document.addEventListener('DOMContentLoaded', () => {
    const servicesList = document.getElementById('services-list');

    // –ü–æ–≤–Ω–∏–π –ø–µ—Ä–µ–ª—ñ–∫ –ø–æ—Å–ª—É–≥
    const servicesData = [
        // –¢–µ—Ä–∞–ø–µ–≤—Ç–∏—á–Ω–∞ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥—ñ—è
        {
            id: 'caries-treatment',
            icon: 'ü¶∑',
            title: '–õ—ñ–∫—É–≤–∞–Ω–Ω—è –∫–∞—Ä—ñ—î—Å—É',
            price: '–≤—ñ–¥ 1200 –≥—Ä–Ω',
            description: '–ë–µ–∑–±–æ–ª—ñ—Å–Ω–µ –ø–ª–æ–º–±—É–≤–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏–º–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª–∞–º–∏',
            details: [
                '–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ñ–æ—Ç–æ–ø–æ–ª—ñ–º–µ—Ä—ñ–≤',
                '–ì–∞—Ä–∞–Ω—Ç—ñ—è –Ω–∞ –ø–ª–æ–º–±–∏ –¥–æ 5 —Ä–æ–∫—ñ–≤',
                '–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å: 30-60 —Ö–≤'
            ]
        },
        {
            id: 'endodontics',
            icon: 'üß¨',
            title: '–ï–Ω–¥–æ–¥–æ–Ω—Ç–∏—á–Ω–µ –ª—ñ–∫—É–≤–∞–Ω–Ω—è',
            price: '–≤—ñ–¥ 2500 –≥—Ä–Ω',
            description: '–õ—ñ–∫—É–≤–∞–Ω–Ω—è –∫–æ—Ä–µ–Ω–µ–≤–∏—Ö –∫–∞–Ω–∞–ª—ñ–≤',
            details: [
                '–ú—ñ–∫—Ä–æ—Å–∫–æ–ø–Ω–µ –ª—ñ–∫—É–≤–∞–Ω–Ω—è',
                '–ë–µ–∑–±–æ–ª—ñ—Å–Ω–∞ –∞–Ω–µ—Å—Ç–µ–∑—ñ—è',
                '–ì–∞—Ä–∞–Ω—Ç—ñ—è —è–∫–æ—Å—Ç—ñ'
            ]
        },

        // –•—ñ—Ä—É—Ä–≥—ñ—á–Ω–∞ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥—ñ—è
        {
            id: 'tooth-extraction',
            icon: '‚öîÔ∏è',
            title: '–í–∏–¥–∞–ª–µ–Ω–Ω—è –∑—É–±–∞',
            price: '–≤—ñ–¥ 1500 –≥—Ä–Ω',
            description: '–ê—Ç—Ä–∞–≤–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è',
            details: [
                '–°–∫–ª–∞–¥–Ω—ñ –≤–∏–ø–∞–¥–∫–∏ (—Ä–µ—Ç–∏–Ω–æ–≤–∞–Ω—ñ –∑—É–±–∏)',
                '–®–≤–∏–¥–∫–µ –∑–∞–≥–æ—î–Ω–Ω—è',
                '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è –≤–∫–ª—é—á–µ–Ω–∞'
            ]
        },
        {
            id: 'implantation',
            icon: 'ü¶¥',
            title: '–Ü–º–ø–ª–∞–Ω—Ç–∞—Ü—ñ—è',
            price: '–≤—ñ–¥ 10000 –≥—Ä–Ω',
            description: '–ü—Ä–µ–º—ñ—É–º-—ñ–º–ø–ª–∞–Ω—Ç–∏ –∑ –≥–∞—Ä–∞–Ω—Ç—ñ—î—é',
            details: [
                '–®–≤–µ–π—Ü–∞—Ä—Å—å–∫—ñ —Ç–∞ –∫–æ—Ä–µ–π—Å—å–∫—ñ —Å–∏—Å—Ç–µ–º–∏',
                '–û–¥–Ω–æ–µ—Ç–∞–ø–Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞',
                '–ì–∞—Ä–∞–Ω—Ç—ñ—è –¥–æ 10 —Ä–æ–∫—ñ–≤'
            ]
        },

        // –í—ñ–¥–±—ñ–ª—é–≤–∞–Ω–Ω—è —Ç–∞ –≥—ñ–≥—ñ—î–Ω–∞
        {
            id: 'whitening',
            icon: '‚ú®',
            title: '–í—ñ–¥–±—ñ–ª—é–≤–∞–Ω–Ω—è Zoom',
            price: '–≤—ñ–¥ 1500 –≥—Ä–Ω',
            description: '–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–µ –≤—ñ–¥–±—ñ–ª—é–≤–∞–Ω–Ω—è –∑–∞ 1 –≤—ñ–∑–∏—Ç',
            details: [
                '–ï—Ñ–µ–∫—Ç –¥–æ 8 —Ç–æ–Ω—ñ–≤ —Å–≤—ñ—Ç–ª—ñ—à–µ',
                '–ë–µ–∑–ø–µ—á–Ω–æ –¥–ª—è –µ–º–∞–ª—ñ',
                '–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç—Ä–∏–º–∞—î—Ç—å—Å—è 1-2 —Ä–æ–∫–∏'
            ]
        },
        {
            id: 'cleaning',
            icon: 'üßº',
            title: '–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ —á–∏—Å—Ç–∫–∞',
            price: '–≤—ñ–¥ 800 –≥—Ä–Ω',
            description: '–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞ –≥—ñ–≥—ñ—î–Ω–∞ –ø–æ—Ä–æ–∂–Ω–∏–Ω–∏ —Ä–æ—Ç–∞',
            details: [
                'Ultrasonic + AirFlow',
                '–ü–æ–ª—ñ—Ä—É–≤–∞–Ω–Ω—è –ø–∞—Å—Ç–∞–º–∏',
                '–†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è —Ä–∞–∑ –Ω–∞ 6 –º—ñ—Å—è—Ü—ñ–≤'
            ]
        },

        // –û—Ä—Ç–æ–¥–æ–Ω—Ç—ñ—è
        {
            id: 'braces',
            icon: 'üîó',
            title: '–ë—Ä–µ–∫–µ—Ç-—Å–∏—Å—Ç–µ–º–∏',
            price: '–≤—ñ–¥ 20000 –≥—Ä–Ω',
            description: '–í–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è –∑—É–±–Ω–æ–≥–æ —Ä—è–¥—É',
            details: [
                '–ú–µ—Ç–∞–ª—ñ—á–Ω—ñ/–∫–µ—Ä–∞–º—ñ—á–Ω—ñ –±—Ä–µ–∫–µ—Ç–∏',
                '–Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –ø–ª–∞–Ω –ª—ñ–∫—É–≤–∞–Ω–Ω—è',
                '–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ –∫–æ—Ä–µ–∫—Ü—ñ—ó'
            ]
        },
        {
            id: 'aligners',
            icon: 'üëÑ',
            title: '–ï–ª–∞–π–Ω–µ—Ä–∏ Invisalign',
            price: '–≤—ñ–¥ 35000 –≥—Ä–Ω',
            description: '–ù–µ–∑—Ä–∏–º—ñ –∫–∞–ø–ø–∏ –¥–ª—è –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è',
            details: [
                '–ó–Ω—ñ–º–Ω—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó',
                '–ö–æ–º—Ñ–æ—Ä—Ç–Ω—ñ—à–µ –∑–∞ –±—Ä–µ–∫–µ—Ç–∏',
                '–¢–µ—Ä–º—ñ–Ω –ª—ñ–∫—É–≤–∞–Ω–Ω—è: 6-18 –º—ñ—Å—è—Ü—ñ–≤'
            ]
        },

        // –î–∏—Ç—è—á–∞ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥—ñ—è
        {
            id: 'kids-dentistry',
            icon: 'üë∂',
            title: '–õ—ñ–∫—É–≤–∞–Ω–Ω—è –¥—ñ—Ç–µ–π',
            price: '–≤—ñ–¥ 900 –≥—Ä–Ω',
            description: '–ë–µ–∑—Å—Ç—Ä–µ—Å–æ–≤–∏–π –ø—ñ–¥—Ö—ñ–¥',
            details: [
                '–Ü–≥—Ä–æ–≤–∞ —Ñ–æ—Ä–º–∞ –ª—ñ–∫—É–≤–∞–Ω–Ω—è',
                '–ö–æ–ª—å–æ—Ä–æ–≤—ñ –ø–ª–æ–º–±–∏',
                '–°–µ–¥–∞—Ü—ñ—è –¥–ª—è —Ç—Ä–∏–≤–æ–∂–Ω–∏—Ö –¥—ñ—Ç–µ–π'
            ]
        }
    ];

    // –†–µ–Ω–¥–µ—Ä –ø–æ—Å–ª—É–≥
    function renderServices() {
        servicesList.innerHTML = '';
        servicesData.forEach(service => {
            const serviceItem = document.createElement('li');
            serviceItem.className = 'service-item';
            serviceItem.innerHTML = `
                <div class="service-info">
                    <span class="service-icon">${service.icon}</span>
                    <div>
                        <h3>${service.title}</h3>
                        <p>${service.description}</p>
                    </div>
                </div>
                <div class="service-price">${service.price}</div>
                <div class="service-details" id="details-${service.id}" hidden>
                    <ul>
                        ${service.details.map(detail => `<li>${detail}</li>`).join('')}
                    </ul>
                    <button class="book-service" data-service="${service.id}">–ó–∞–ø–∏—Å–∞—Ç–∏—Å—è</button>
                </div>
            `;

            // –û–±—Ä–æ–±–Ω–∏–∫ –∫–ª—ñ–∫—É –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π
            serviceItem.addEventListener('click', (e) => {
                if (!e.target.classList.contains('book-service')) {
                    const details = serviceItem.querySelector('.service-details');
                    details.hidden = !details.hidden;
                }
            });

            servicesList.appendChild(serviceItem);
        });
    }

    // –û–±—Ä–æ–±–Ω–∏–∫ –∑–∞–ø–∏—Å—É –Ω–∞ –ø–æ—Å–ª—É–≥—É
    document.addEventListener('click', (e) => {
        if (e.target.classList.contains('book-service')) {
            const serviceId = e.target.dataset.service;
            const service = servicesData.find(s => s.id === serviceId);
            alert(`–ó–∞–ø–∏—Å –Ω–∞ ${service.title}. –û—á—ñ–∫—É–π—Ç–µ –¥–∑–≤—ñ–Ω–∫–∞ –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è!`);
            // –¢—É—Ç –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –∑–∞–ø–∏—Å—É —á–µ—Ä–µ–∑ Firebase/API
        }
    });

    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
    renderServices();
});
